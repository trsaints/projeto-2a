<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:Agendai.ViewModels"
             xmlns:local="clr-namespace:Agendai.Data.Converters"
             xmlns:views="clr-namespace:Agendai.Views.Components.Agenda"
             x:Class="Agendai.Views.Components.Agenda.Agenda"
             x:DataType="vm:AgendaWindowViewModel">

    <UserControl.Resources>
        <DataTemplate x:Key="MonthViewTemplate" x:DataType="vm:AgendaWindowViewModel">
            <views:MonthView />
        </DataTemplate>
        <DataTemplate x:Key="WeekViewTemplate" x:DataType="vm:AgendaWindowViewModel">
            <views:WeekView />
        </DataTemplate>
        <DataTemplate x:Key="DayViewTemplate" x:DataType="vm:AgendaWindowViewModel">
            <views:DayView />
        </DataTemplate>

        <local:ViewIndexToTemplateConverter x:Key="ViewTemplateSelector"
                                            MonthTemplate="{StaticResource MonthViewTemplate}"
                                            WeekTemplate="{StaticResource WeekViewTemplate}"
                                            DayTemplate="{StaticResource DayViewTemplate}" />
    </UserControl.Resources>

    <StackPanel>
        <StackPanel Orientation="Horizontal" Margin="20">
            <TextBlock Text="Calendário" FontSize="20" Margin="0,0,10,0"/>
            <ComboBox SelectedIndex="{Binding SelectedIndex}" Width="100">
                <ComboBoxItem Content="Mês"/>
                <ComboBoxItem Content="Semana"/>
                <ComboBoxItem Content="Dia"/>
            </ComboBox>
        </StackPanel>

        <ContentControl Content="{Binding}" 
                        ContentTemplate="{Binding SelectedIndex, Converter={StaticResource ViewTemplateSelector}}" />
    </StackPanel>
</UserControl>